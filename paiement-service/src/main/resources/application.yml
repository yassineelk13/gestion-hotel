server:
  port: 8084

spring:
  application:
    name: paiement-service

  datasource:
    url: jdbc:mysql://mysql:3306/paiements_db?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC
    username: root
    password:
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: true

# ✅ Configuration Stripe - UTILISE VARIABLES D'ENVIRONNEMENT
stripe:
  secret-key: \${STRIPE_SECRET_KEY:sk_test_default}
  publishable-key: \${STRIPE_PUBLISHABLE_KEY:pk_test_default}

# ✅ Configuration du service Réservation avec credentials Basic Auth
services:
  reservation:
    url: http://reservation-service:8083/api  # Pour Docker
    username: admin
    password: admin123

# ✅ Logs pour debug
logging:
  level:
    com.hotel.paiement: DEBUG
    org.springframework.web.client: DEBUG
